# 1 CLOS模型简介

许多计算机程序创建“对象”并对其进行操作。有时，这些对象代表着真实世界的事物。交通模拟程序需要表示车辆、行人、十字路口和交通灯。在其他情况下，程序操作表示抽象的对象，例如在操作系统工程中操作的缓冲区、窗口和进程。

COMMON LISP 对象系统（CLOS）支持被称为“面向对象编程”的编程风格，这使得创建和操作对象变得容易。CLOS鼓励软件开发人员创建一个工作模型，从结构和行为方面描述各种类型的对象。通常，工作模型包括相互关联的类；它们相似但不完全相同。例如，窗口系统通常需要支持不同用途的不同类型的窗口。一种窗户可能有边框；另一个可能有标签；另一个可能同时具有边框和标签。窗口系统的设计可能包括几种类型的窗口。

CLOS使得表示类之间的关系变得容易，并且支持灵活的继承（共享）结构和行为的方法。继承允许应用程序的设计和实现高度模块化，不需要同时维护几个几乎相同的代码主体。

CLOS通过将程序的实现与接口分离，在另一个重要的上下文中促进了模块化。CLOS程序的客户端（即别的 LISP 程序）仅仅依赖于接口，接口描述了可以在一组对象上执行的操作。客户端使用这些操作来创建和操作对象，不需要了解对象的底层实现。这种分离使程序员可以在不干扰客户端程序的情况下更改或扩展实现。

CLOS使设计、开发、维护和扩展复杂程序变得更加容易。面向对象风格的好处对于大型、复杂的程序来说最为显著，但是中型程序也可以从这种风格中获益。

任何CLOS程序都可以用传统的 LISP 编程风格写出来。使用CLOS的一个重要优势在于自动控制对象之间的交互。在这里，我们总结了使用CLOS的一些好处：

- 程序更接近于它所模拟的世界。与传统的 Lisp 程序相比，面向对象程序是在更高的抽象层次上设计的。鼓励程序员专注于对象的抽象属性，而不是被对象的实现方式分散注意力。面向对象的设计允许对象具有有意义的名字、行为和交互。

- 客户端程序得益于定义良好的接口。客户端程序可以通过定义良好的接口使用CLOS程序；客户端不受CLOS程序内部细节（实现）的影响。这意味着即使对底层实现进行了修改，客户端程序仍然能够继续工作。更重要的是，如果扩展了实现（例如，为了支持其他的类），所有客户端程序都会立即自动利用这些扩展。

- 程序员得益于模块化的实现。CLOS使程序员能够定义类的组织，这些类对各种对象之间的关系进行建模。程序员可以定义作为构建块的类；结构和行为被单独进行抽象和定义。然后，程序员创建新的类来继承所需的构建块组合。

- CLOS程序易于扩展。到目前为止，我们已经将CLOS程序描绘成一个完整的程序，就其本身而言。然而，一些CLOS程序的编写目标是由用户进行扩展和定制。这样的程序提供了一组具有文档化结构和行为的类；这些类旨在作为构建块。用户可以创建从这些构建块继承得到的新类，并添加自定义行为。

- CLOS定义了在 Common LISP 社区中共享的约定。前面提到的这些好处支持面向对象编程的其他语言同样可以提供。然而，CLOS作为一种语言标准有着额外的优势。CLOS定义了一组标准的约定，这些约定受到各种 COMMON LISP 实现的支持。因此，CLOS程序可以跨不同的实现进行移植。

CLOS本身并不强制模块化，也不能阻止你把程序弄得一团糟。相反，它只是提供工具来帮助您设计模块化和可扩展的程序。本书的目标是帮助您学习如何充分利用这些工具。
